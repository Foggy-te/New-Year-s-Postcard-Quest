<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>–ü–æ–¥–±–µ—Ä–∏ –ø–ª–∞—Ç—å–µ</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="quest-style.css">
  <style>
    #choices {
      display: flex;
      justify-content: center;
      flex-wrap: wrap;
      gap: 20px;
      margin-top: 30px;
    }

    .dress {
      width: 100px;
      height: 150px;
      background-size: cover;
      background-position: center;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .dress:hover {
      transform: scale(1.1);
    }

    .disabled {
      filter: grayscale(100%);
      pointer-events: none;
    }

    /* –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ */
    #modal-box {
      display: none;
      text-align: center;
      background-color: rgba(0, 0, 0, 0.85);
      color: white;
      padding: 40px;
      border-radius: 15px;
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 70%;
      box-shadow: 0 0 30px rgba(0, 0, 0, 0.6);
      text-align: center;
      font-size: 1.5rem;
    }

    #modal-box p {
      font-size: 2rem;
      font-weight: bold;
      color: #FFD700; /* –ó–æ–ª–æ—Ç–æ–π */
    }

    .next-button {
      margin-top: 20px;
      font-size: 1.2rem;
      background-color: #28a745;
      border: none;
      padding: 10px 20px;
      border-radius: 5px;
      color: white;
      cursor: pointer;
    }

    .next-button:hover {
      background-color: #218838;
    }

    #particles-js {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: -1;
    }

  </style>
</head>
<body>
  <div id="particles-js"></div> <!-- –°–Ω–µ–≥ -->
  <div class="container text-center py-5">
    <h1 class="display-4">–ü–æ–¥–±–µ—Ä–∏ –ø–ª–∞—Ç—å–µ</h1>
    <p class="fs-5">–ö–∞–∫ –¥—É–º–∞–µ—à—å –∫–∞–∫–æ–µ –ø–ª–∞—Ç—å–µ —è —Ç–µ–±–µ –∫—É–ø–∏–ª ? <br> –í—ã–±–µ—Ä–∏ —Ç–æ –ø–ª–∞—Ç—å–µ, –∫–æ—Ç–æ—Ä–æ–µ –ø–æ —Ç–≤–æ–µ–º—É –º–Ω–µ–Ω–∏—é —Ç–µ–±–µ –∏–¥–µ–∞–ª—å–Ω–æ –ø–æ–¥–æ–π–¥—ë—Ç !</p>

    <!-- –í–∞—Ä–∏–∞–Ω—Ç—ã –ø–ª–∞—Ç—å–µ–≤ -->
    <div id="choices">
      <div class="dress" id="dress1" style="background-image: url('images/dress1.jpg');"></div>
      <div class="dress" id="dress2" style="background-image: url('images/dress2.jpg');"></div>
      <div class="dress" id="dress3" style="background-image: url('images/dress3.jpg');"></div>
      <div class="dress" id="dress4" style="background-image: url('images/dress4.jpg');"></div>
      <div class="dress" id="dress5" style="background-image: url('images/dress5.jpg');"></div>
      <div class="dress" id="dress6" style="background-image: url('images/dress6.jpg');"></div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ -->
    <div id="modal-box">
      <p>–≠—Ç–æ –ø–ª–∞—Ç—å–µ –∏–¥–µ–∞–ª—å–Ω–æ –¥–ª—è —Ç–µ–±—è! üéâ</p>
      <p>–û–±–µ—Ä–Ω–∏—Å—å, —Ç–∞–º –∂–¥—ë—Ç —Å—é—Ä–ø—Ä–∏–∑! üòä</p>
      <button class="next-button" onclick="nextLevel()">–ü–µ—Ä–µ–π—Ç–∏ –∫ —Å–ª–µ–¥—É—é—â–µ–º—É –∫–≤–µ—Å—Ç—É</button>
    </div>
  </div>
  <!-- –ú—É–∑—ã–∫–∞–ª—å–Ω—ã–π –ø–ª–µ–µ—Ä -->
  <div id="music-player" style="position: fixed; bottom: 20px; right: 20px; z-index: 1000;">
    <button id="toggle-music" class="btn btn-primary">üéµ –í–∫–ª—é—á–∏—Ç—å –º—É–∑—ã–∫—É</button>
  </div>
  
  <script>
    const audio = new Audio("mp3/ereymusic ‚Äî Christmas Lofi Hip Hop (www.lightaudio.ru).mp3"); // –£–∫–∞–∂–∏—Ç–µ –ø—É—Ç—å –∫ –≤–∞—à–µ–º—É –º—É–∑—ã–∫–∞–ª—å–Ω–æ–º—É —Ñ–∞–π–ª—É
    audio.loop = true;
  
    // –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∏–∑ localStorage
    if (localStorage.getItem("music-playing") === "true") {
      audio.play();
      document.getElementById("toggle-music").textContent = "‚è∏Ô∏è –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –º—É–∑—ã–∫—É";
    }
  
    // –í–∫–ª—é—á–µ–Ω–∏–µ/–≤—ã–∫–ª—é—á–µ–Ω–∏–µ –º—É–∑—ã–∫–∏
    document.getElementById("toggle-music").addEventListener("click", () => {
      if (audio.paused) {
        audio.play();
        localStorage.setItem("music-playing", "true");
        document.getElementById("toggle-music").textContent = "‚è∏Ô∏è –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –º—É–∑—ã–∫—É";
      } else {
        audio.pause();
        localStorage.setItem("music-playing", "false");
        document.getElementById("toggle-music").textContent = "üéµ –í–∫–ª—é—á–∏—Ç—å –º—É–∑—ã–∫—É";
      }
    });
  
    // –°–æ—Ö—Ä–∞–Ω—è–µ–º —Ç–µ–∫—É—â–µ–µ –≤—Ä–µ–º—è –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è –ø—Ä–∏ –ø–µ—Ä–µ—Ö–æ–¥–µ
    window.addEventListener("beforeunload", () => {
      localStorage.setItem("music-time", audio.currentTime);
    });
  
    // –ü—Ä–æ–¥–æ–ª–∂–∞–µ–º –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ —Å —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω–æ–≥–æ –º–µ—Å—Ç–∞
    const savedTime = localStorage.getItem("music-time");
    if (savedTime) {
      audio.currentTime = parseFloat(savedTime);
    }
  </script>
    <!-- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ particles.min.js -->
    <script src="js/particles.min.js"></script>
    <!-- –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å–Ω–µ–≥–∞ -->
    <script src="js/particles-config.js"></script>
    <!-- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –¥–ª—è –∫–æ–Ω—Ñ–µ—Ç—Ç–∏ -->
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti"></script>
  

  <script>
    const correctDress = "dress3"; // –ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ –ø–ª–∞—Ç—å–µ
    const modalBox = document.getElementById("modal-box");

    // –î–æ–±–∞–≤–ª—è–µ–º —Å–æ–±—ã—Ç–∏—è –Ω–∞ –≤—Å–µ –ø–ª–∞—Ç—å—è
    document.querySelectorAll(".dress").forEach(dress => {
      dress.addEventListener("click", () => {
        if (dress.id === correctDress) {
          dress.style.border = "5px solid #FFD700"; // –ó–æ–ª–æ—Ç–∞—è —Ä–∞–º–∫–∞
          triggerConfetti();
          showModal();
        } else {
          dress.classList.add("disabled"); // –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –ø–ª–∞—Ç—å–µ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è —Å–µ—Ä—ã–º
        }
      });
    });

    // –§—É–Ω–∫—Ü–∏—è –∑–∞–ø—É—Å–∫–∞ –∫–æ–Ω—Ñ–µ—Ç—Ç–∏
    function triggerConfetti() {
      confetti({
        particleCount: 200,
        spread: 100,
        origin: { y: 0.6 },
      });
    }

    // –ü–æ–∫–∞–∑ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞
    function showModal() {
      setTimeout(() => {
        modalBox.style.display = "block";
      }, 1000);
    }

    // –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ —Å–ª–µ–¥—É—é—â–∏–π —É—Ä–æ–≤–µ–Ω—å
    function nextLevel() {
      window.location.href = "question3.html"; // –°—Å—ã–ª–∫–∞ –Ω–∞ —Å–ª–µ–¥—É—é—â–∏–π —É—Ä–æ–≤–µ–Ω—å
    }
  </script>
</body>
</html>
