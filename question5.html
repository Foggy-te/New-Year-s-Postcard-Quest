<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>–ö–∞—Ä—Ç–∞ –≤–æ—Å–ø–æ–º–∏–Ω–∞–Ω–∏–π</title>
  <script src="https://api-maps.yandex.ru/2.1/?lang=ru_RU" type="text/javascript"></script>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Lobster&family=Open+Sans:wght@400;600&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Open Sans', sans-serif;
      background: #2a5298;
      margin: 0;
      padding: 0;
      text-align: center;
    }

    h1 {
      font-family: 'Lobster', cursive;
      font-size: 3rem;
      margin: 20px;
      color: aliceblue;
    }

    .text {
        color: aliceblue;
        font-size: 1.2rem;
        margin: 10px 0;
    }

    #map {
      width: 100%;
      max-width: 1000px;
      height: 80vh;
      margin: 20px auto;
      border-radius: 10px;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
      background: rgba(255, 255, 255, 0.1);
    }

    .modal-content img {
      max-width: 100%;
      height: auto;
      border-radius: 10px;
    }

    .modal-content {
      text-align: center;
      background: #f8f9fa;
    }

    #particles-js {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: -1;
    }

    #next-quest {
      display: inline-block;
      padding: 12px 40px;
      font-size: 1.4rem;
      background-color: #007bff;
      color: white;
      border: none;
      border-radius: 10px;
      text-align: center;
      text-decoration: none;
      transition: background-color 0.3s ease, transform 0.3s ease;
      max-width: 300px;
      width: 100%;
      margin: 30px auto;
    }

    #next-quest:hover {
      background-color: #0056b3;
      transform: translateY(-2px);
    }

    .modal-header {
      background-color: #007bff;
      color: white;
      border-radius: 10px 10px 0 0;
    }

    .modal-footer {
      border-top: 1px solid #007bff;
    }

  </style>
</head>
<body>
  <h1>–ö–∞—Ä—Ç–∞ –≤–æ—Å–ø–æ–º–∏–Ω–∞–Ω–∏–π</h1>
  <p class="text">–ù–∞–∂–º–∏ –Ω–∞ –∑–Ω–∞—á–∏–º—ã–µ –º–µ—Å—Ç–∞, —á—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å –≤–æ—Å–ø–æ–º–∏–Ω–∞–Ω–∏—è –∏ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏.</p>
  <div id="particles-js"></div>
  <div id="map" class="card p-5 content-card"></div>
  <a href="question6.html" id="next-quest" class="btn btn-primary">–§–∏–Ω–∞–ª</a>

  <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ -->
  <div class="modal fade" id="memoryModal" tabindex="-1" aria-labelledby="memoryModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="memoryModalLabel">–í–æ—Å–ø–æ–º–∏–Ω–∞–Ω–∏–µ</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="–ó–∞–∫—Ä—ã—Ç—å"></button>
        </div>
        <div class="modal-body" id="memoryContent">
          <!-- –ó–¥–µ—Å—å –±—É–¥–µ—Ç –∑–∞–≥—Ä—É–∂–∞—Ç—å—Å—è –∫–æ–Ω—Ç–µ–Ω—Ç –≤–æ—Å–ø–æ–º–∏–Ω–∞–Ω–∏–π -->
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">–ó–∞–∫—Ä—ã—Ç—å</button>
        </div>
      </div>
    </div>
  </div>
  <!-- –ú—É–∑—ã–∫–∞–ª—å–Ω—ã–π –ø–ª–µ–µ—Ä -->
  <div id="music-player" style="position: fixed; bottom: 20px; right: 20px; z-index: 1000;">
    <button id="toggle-music" class="btn btn-primary">üéµ –í–∫–ª—é—á–∏—Ç—å –º—É–∑—ã–∫—É</button>
  </div>
  
  <script>
    const audio = new Audio("mp3/ereymusic ‚Äî Christmas Lofi Hip Hop (www.lightaudio.ru).mp3"); // –£–∫–∞–∂–∏—Ç–µ –ø—É—Ç—å –∫ –≤–∞—à–µ–º—É –º—É–∑—ã–∫–∞–ª—å–Ω–æ–º—É —Ñ–∞–π–ª—É
    audio.loop = true;
  
    // –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∏–∑ localStorage
    if (localStorage.getItem("music-playing") === "true") {
      audio.play();
      document.getElementById("toggle-music").textContent = "‚è∏Ô∏è –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –º—É–∑—ã–∫—É";
    }
  
    // –í–∫–ª—é—á–µ–Ω–∏–µ/–≤—ã–∫–ª—é—á–µ–Ω–∏–µ –º—É–∑—ã–∫–∏
    document.getElementById("toggle-music").addEventListener("click", () => {
      if (audio.paused) {
        audio.play();
        localStorage.setItem("music-playing", "true");
        document.getElementById("toggle-music").textContent = "‚è∏Ô∏è –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –º—É–∑—ã–∫—É";
      } else {
        audio.pause();
        localStorage.setItem("music-playing", "false");
        document.getElementById("toggle-music").textContent = "üéµ –í–∫–ª—é—á–∏—Ç—å –º—É–∑—ã–∫—É";
      }
    });
  
    // –°–æ—Ö—Ä–∞–Ω—è–µ–º —Ç–µ–∫—É—â–µ–µ –≤—Ä–µ–º—è –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è –ø—Ä–∏ –ø–µ—Ä–µ—Ö–æ–¥–µ
    window.addEventListener("beforeunload", () => {
      localStorage.setItem("music-time", audio.currentTime);
    });
  
    // –ü—Ä–æ–¥–æ–ª–∂–∞–µ–º –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ —Å —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω–æ–≥–æ –º–µ—Å—Ç–∞
    const savedTime = localStorage.getItem("music-time");
    if (savedTime) {
      audio.currentTime = parseFloat(savedTime);
    }
  </script>
  <!-- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ particles.min.js -->
  <script src="js/particles.min.js"></script>
  <!-- –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å–Ω–µ–≥–∞ -->
  <script src="js/particles-config.js"></script>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
  <script>
    ymaps.ready(init);

    function init() {
      const map = new ymaps.Map("map", {
        center: [52.286974, 104.305018], // –¶–µ–Ω—Ç—Ä –ò—Ä–∫—É—Ç—Å–∫–∞
        zoom: 12,
        controls: ['zoomControl', 'typeSelector'] // –î–æ–±–∞–≤–ª—è–µ–º –∫–æ–Ω—Ç—Ä–æ–ª–∏
      });

      // –°–ø–∏—Å–æ–∫ –º–µ—Ç–æ–∫ —Å —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è–º–∏
      const places = [
        {
          coords: [52.289161, 104.292655],
          title: "–ö–∞—Ç–æ–∫",
          memory: "–ù–∞—à–∞ –ø–µ—Ä–≤–∞—è —Å–æ–≤–º–µ—Å—Ç–Ω–∞—è –ø–æ–µ–∑–¥–∫–∞ –Ω–∞ –∫–æ–Ω—å–∫–∞—Ö ‚õ∏",
          photos: ["photos/photos_quest5/–ö–∞—Ç–æ–∫.jpg"]
        },
        {
          coords: [52.264191, 104.465030],
          title: "–ì–æ–¥–æ–≤—â–∏–Ω–∞",
          memory: "–¢–≤–æ—è —Å—á–∞—Å—Ç–ª–∏–≤–∞—è —É–ª—ã–±–∫–∞ üéâ",
          photos: ["photos/photos_quest5/–ì–æ–¥–æ–≤—â–∏–Ω–∞.jpg"]
        },
        {
          coords: [52.222737, 104.326323],
          title: "–ü–∞—Ä–∏–∂",
          memory: "–≠–ª–µ–≥–∞–Ω—Ç–Ω—ã–π –∏ –∫—Ä–∞—Å–∏–≤—ã–π –¥–µ–Ω—å üí´",
          photos: ["photos/photos_quest5/–î–µ–Ω—å–†–æ–∂–¥–µ–Ω–∏—è–î—è–¥–∏–°–∞—à–∏.jpg"]
        },
        {
          coords: [52.256794, 104.350151],
          title: "–ú–µ—Å—Ç–æ –ø–æ–¥ —Å–æ–ª–Ω—Ü–µ–º",
          memory: "–ü—Ä–µ–∫—Ä–∞—Å—Ç–Ω—ã–π –¥–µ–Ω—å, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–º —è —á—É—Ç–æ–∫ –ø–µ—Ä–µ–ø–∏–ª ‚ú®",
          photos: ["photos/photos_quest5/–î—Ä–ò—Ä—ã.jpg"]
        },
        {
          coords: [52.251082, 104.328539],
          title: "–ù–∞—à–µ –î–µ–Ω—å –†–æ–∂–¥–µ–Ω–∏–µ",
          memory: "–í—Ä–µ–º—è, –∫–æ—Ç–æ—Ä–æ–µ –±—ã–ª–æ —Ç–æ–ª—å–∫–æ –¥–ª—è –Ω–∞—Å ‚ù§Ô∏è",
          photos: ["photos/photos_quest5/–í–∞–π–±–î–†.jpg"]
        },
        {
          coords: [52.252045, 104.321338],
          title: "–°–≤–∞–¥—å–±–∞ –ë–æ–≥–æ–º–æ–ª–æ–≤—ã—Ö",
          memory: "–ù–∞—à–∞ –±—É–¥—É—â–∞—è –º–µ—á—Ç–∞ üë©‚Äç‚ù§Ô∏è‚Äçüíã‚Äçüë©",
          photos: ["photos/photos_quest5/–°–≤–∞–¥—å–±–∞–ë–æ–≥–æ–º–æ–ª–æ–≤—ã—Ö.jpg"]
        },
        {
          coords: [52.288070, 104.269985],
          title: "–°–≤–∏–¥–∞–Ω–∏–µ –Ω–∞ –∫—Ä—ã—à–µ",
          memory: "–ü—Ä–µ–∫—Ä–∞—Å–Ω—ã–π –≤–µ—á–µ—Ä, –¥–ª—è –Ω–∞—Å –¥–≤–æ–∏—Ö ü•Ç",
          photos: ["photos/photos_quest5/–°–≤–∏–¥–∞–Ω–∏–µ–ù–∞–ö—Ä—ã—à–µ.jpg"]
        },
        {
          coords: [52.279496, 104.340682],
          title: "–î–µ–Ω—å –†–æ–∂–¥–µ–Ω–∏–µ –ì–ª–µ–±–∞",
          memory: "–ò–Ω—Ç–µ—Ä–µ—Å–Ω—ã–π –Ω–µ–¥–∞–≤–Ω–∏–π –æ–ø—ã—Ç üïπÔ∏è",
          photos: ["photos/photos_quest5/–í–†.jpg"]
        },
        {
          coords: [52.041051, 105.411193],
          title: "–ë–æ–ª—å—à–æ–µ –ì–æ–ª–æ—É—Å—Ç–Ω–æ–µ",
          memory: "–¢–æ—Ç –º–æ–º–µ–Ω—Ç, –∫–æ–≥–¥–∞ –º—ã –ø—Ä–∏–µ—Ö–∞–ª–∏ –≤ –ë–æ–ª—å—à–æ–µ –ì–æ–ª–æ—É—Å—Ç–Ω–æ–µ –∏ –∑–∞–±—ã–ª–∏ –æ–±–æ –≤—Å—ë–º, –∫—Ä–æ–º–µ –∫—Ä–∞—Å–æ—Ç—ã –≤–æ–∫—Ä—É–≥. üå≤üíô",
          photos: ["photos/photos_quest5/–ü–æ–µ–∑–¥–∫–∞ –≤ –ì–æ–ª–æ—É—Å–Ω–æ–µ.jpg"] 
        },
        {
          coords: [52.289700, 104.268315],
          title: "–ó–∞–∫–∞—Ç",
          memory: "–¢–æ—Ç –º–æ–º–µ–Ω—Ç, –∫–æ–≥–¥–∞ –º—ã —Å–∏–¥–µ–ª–∏ –Ω–∞ –±–µ—Ä–µ–≥—É –ê–Ω–≥–∞—Ä—ã, –∞ –∑–∞–∫–∞—Ç —Ä–∞—Å–∫—Ä–∞—Å–∏–ª –Ω–µ–±–æ –≤ –æ–≥–Ω–µ–Ω–Ω—ã–µ —Ü–≤–µ—Ç–∞. üåÖüåä",
          photos: ["photos/photos_quest5/–ó–∞–∫–∞—Ç.jpg"] 
        },
        {
          coords: [52.271773, 104.276568],
          title: "–¢–≤–æ—è –ø—Ä–æ–≥—É–ª–∫–∞ —Å –ù–∞—Å—Ç–µ–π",
          memory: "–¢–æ—Ç –º–æ–º–µ–Ω—Ç, –∫–æ–≥–¥–∞ —Ç—ã –∏ –ø–æ–¥—Ä—É–≥–∞ –≥—É–ª—è–µ—Ç–µ –≤–¥–æ–ª—å –±–µ—Ä–µ–≥–∞, —Å–º–µ—è—Å—å –∏ –¥–µ–ª—è—Å—å —Å–≤–æ–∏–º–∏ —Å–µ–∫—Ä–µ—Ç–∞–º–∏. üå∏üåä",
          photos: ["photos/photos_quest5/–ü—Ä–æ–≥—É–ª–∫–∞–°–ù–∞—Å—Ç–µ–π.jpg"] 
        },
        {
          coords: [52.250980, 104.324604],
          title: "–í–µ—á–µ—Ä–Ω—è—è –ø—Ä–æ–≥—É–ª–∫–∞",
          memory: "–¢–æ—Ç –º–æ–º–µ–Ω—Ç, –∫–æ–≥–¥–∞ –≤–µ—á–µ—Ä–Ω—è—è –ø—Ä–æ–≥—É–ª–∫–∞ –≤–¥–æ–ª—å –±–µ—Ä–µ–≥–∞ —Å —Ç–æ–±–æ–π —Å—Ç–∞–ª–∞ —Å–∞–º—ã–º —É—é—Ç–Ω—ã–º –∏ –Ω–µ–∑–∞–±–≤–µ–Ω–Ω—ã–º –≤–æ—Å–ø–æ–º–∏–Ω–∞–Ω–∏–µ–º. üåôüí´",
          photos: ["photos/photos_quest5/–í–µ—á–µ—Ä–Ω—è—è–ü—Ä–æ–≥—É–ª–∫–∞.jpg"] 
        },
        {
          coords: [52.250980, 104.324604],
          title: "–í–µ—á–µ—Ä–Ω—è—è –ø—Ä–æ–≥—É–ª–∫–∞",
          memory: "–¢–æ—Ç –º–æ–º–µ–Ω—Ç, –∫–æ–≥–¥–∞ –≤–µ—á–µ—Ä–Ω—è—è –ø—Ä–æ–≥—É–ª–∫–∞ –≤–¥–æ–ª—å –±–µ—Ä–µ–≥–∞ —Å —Ç–æ–±–æ–π —Å—Ç–∞–ª–∞ —Å–∞–º—ã–º —É—é—Ç–Ω—ã–º –∏ –Ω–µ–∑–∞–±–≤–µ–Ω–Ω—ã–º –≤–æ—Å–ø–æ–º–∏–Ω–∞–Ω–∏–µ–º. üåôüí´",
          photos: ["photos/photos_quest5/–í–µ—á–µ—Ä–Ω—è—è–ü—Ä–æ–≥—É–ª–∫–∞.jpg"] 
        }
      ];

      // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –º–µ—Ç–æ–∫ –Ω–∞ –∫–∞—Ä—Ç—É
      places.forEach((place) => {
        const placemark = new ymaps.Placemark(
          place.coords,
          {
            preset: "islands#redIcon"
          }
        );

        placemark.events.add('click', function () {
          showMemory(place.title, place.memory, place.photos);
        });

        map.geoObjects.add(placemark);
      });
      // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –º–µ—Ç–æ–∫ –Ω–∞ –∫–∞—Ä—Ç—É
      places.forEach((place) => {
        const placemark = new ymaps.Placemark(
          place.coords,
          {
            preset: "islands#redIcon"
          }
        );

        placemark.events.add('click', function () {
          showMemory(place.title, place.memory, place.photos);
        });

        map.geoObjects.add(placemark);
      });
    }

    // –§—É–Ω–∫—Ü–∏—è –ø–æ–∫–∞–∑–∞ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞
    function showMemory(title, memory, photos) {
      const memoryModal = new bootstrap.Modal(document.getElementById("memoryModal"));
      const memoryContent = document.getElementById("memoryContent");

      // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ
      let content = `<strong>${title}</strong><p>${memory}</p>`;
      photos.forEach((photo) => {
        content += `<img src="${photo}" alt="–í–æ—Å–ø–æ–º–∏–Ω–∞–Ω–∏–µ" class="img-fluid my-2">`;
      });

      memoryContent.innerHTML = content;
      memoryModal.show();
    }
  </script>
</body>
</html>
